(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{269:function(t,a,r){"use strict";r.r(a);var s=r(3),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"表单提交"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#表单提交"}},[t._v("#")]),t._v(" 表单提交")]),t._v(" "),r("p",[t._v("在 HTTP 中，有两种主要的表单提交的方式，体现在两种不同的 Content-Type 取值:")]),t._v(" "),r("ul",[r("li",[t._v("application/x-www-form-urlencoded")]),t._v(" "),r("li",[t._v("multipart/form-data")])]),t._v(" "),r("p",[t._v("大部分情况下，表单提交都是 POST 请求，所以这里只考虑 POST 请求的情况，即把提交数据放到请求体中。")]),t._v(" "),r("h1",{attrs:{id:"application-x-www-form-urlencoded"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#application-x-www-form-urlencoded"}},[t._v("#")]),t._v(" application/x-www-form-urlencoded")]),t._v(" "),r("p",[t._v("对于 application/x-www-form-urlencoded 格式的表单内容，有以下特点:")]),t._v(" "),r("ul",[r("li",[t._v("其中的数据会被编码成以 & 分隔的键值对。")]),t._v(" "),r("li",[t._v("字符以 URL 编码方式编码。")])]),t._v(" "),r("p",[t._v("例如：")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转换过程: {a: 1, b: 2} -> a=1&b=2 -> 如下(最终形式)")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a%3D1%26b%3D2"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("h2",{attrs:{id:"multipart-form-data"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#multipart-form-data"}},[t._v("#")]),t._v(" multipart/form-data")]),t._v(" "),r("p",[t._v("对于 multipart/form-data 而言:")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("请求头中的 Content-Type 字段会包含 boundary，且 boundary 的值有浏览器默认指定。例: "),r("code",[t._v("Content-Type: multipart/form-data;boundary=----WebkitFormBoundaryRRJKeWfHPGrS4LKe")]),t._v("。")])]),t._v(" "),r("li",[r("p",[t._v("数据会分为多个部分，每两个部分之间通过分隔符来分隔，每部分表述均有 HTTP 头部描述子包体，如 Content-Type，在最后的分隔符会加上--表示结束。")])])]),t._v(" "),r("p",[t._v("相应的请求体是下面这样:")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[t._v("Content"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Disposition"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" form"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("name"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data1"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nContent"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" text"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("plain\ndata1\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("WebkitFormBoundaryRRJKeWfHPGrS4LKe\nContent"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Disposition"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" form"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("name"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data2"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nContent"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" text"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("plain\ndata2\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("WebkitFormBoundaryRRJKeWfHPGrS4LKe"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n")])])]),r("p",[t._v("在实际的场景中，对于图片等文件的上传，基本采用 multipart/form-data 而不用 application/x-www-form-urlencoded，因为没有必要做 URL 编码，带来巨大耗时的同时也占用了更多的空间。")])])}),[],!1,null,null,null);a.default=e.exports}}]);