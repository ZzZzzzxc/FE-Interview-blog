<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Babel | FE-Interview</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/hello.jpg">
    <meta name="description" content="从现在开始，和👴一起学">
    
    <link rel="preload" href="/assets/css/0.styles.924704fd.css" as="style"><link rel="preload" href="/assets/js/app.c6550162.js" as="script"><link rel="preload" href="/assets/js/2.d4fb1092.js" as="script"><link rel="preload" href="/assets/js/60.a7d5995b.js" as="script"><link rel="prefetch" href="/assets/js/10.ce97180d.js"><link rel="prefetch" href="/assets/js/11.cb7880d5.js"><link rel="prefetch" href="/assets/js/12.33d6d7e3.js"><link rel="prefetch" href="/assets/js/13.1756cad2.js"><link rel="prefetch" href="/assets/js/14.2aad9577.js"><link rel="prefetch" href="/assets/js/15.ca2070d2.js"><link rel="prefetch" href="/assets/js/16.f5963f03.js"><link rel="prefetch" href="/assets/js/17.e7ced2d1.js"><link rel="prefetch" href="/assets/js/18.e17bd778.js"><link rel="prefetch" href="/assets/js/19.845ad541.js"><link rel="prefetch" href="/assets/js/20.20bc929e.js"><link rel="prefetch" href="/assets/js/21.34c546be.js"><link rel="prefetch" href="/assets/js/22.5927c0d3.js"><link rel="prefetch" href="/assets/js/23.399796f9.js"><link rel="prefetch" href="/assets/js/24.9b7f5a96.js"><link rel="prefetch" href="/assets/js/25.121f163f.js"><link rel="prefetch" href="/assets/js/26.4b394086.js"><link rel="prefetch" href="/assets/js/27.67b208d4.js"><link rel="prefetch" href="/assets/js/28.e7c5842f.js"><link rel="prefetch" href="/assets/js/29.30540319.js"><link rel="prefetch" href="/assets/js/3.197af7fd.js"><link rel="prefetch" href="/assets/js/30.959c73b6.js"><link rel="prefetch" href="/assets/js/31.9064602e.js"><link rel="prefetch" href="/assets/js/32.be0b88e9.js"><link rel="prefetch" href="/assets/js/33.2f3003e8.js"><link rel="prefetch" href="/assets/js/34.eb6886db.js"><link rel="prefetch" href="/assets/js/35.1ea22b0b.js"><link rel="prefetch" href="/assets/js/36.dce33fa9.js"><link rel="prefetch" href="/assets/js/37.557b44c0.js"><link rel="prefetch" href="/assets/js/38.448f75e0.js"><link rel="prefetch" href="/assets/js/39.17b6d2dc.js"><link rel="prefetch" href="/assets/js/4.0909740a.js"><link rel="prefetch" href="/assets/js/40.8428a3f1.js"><link rel="prefetch" href="/assets/js/41.8c083e9e.js"><link rel="prefetch" href="/assets/js/42.ae168d1f.js"><link rel="prefetch" href="/assets/js/43.51a75917.js"><link rel="prefetch" href="/assets/js/44.44fbb509.js"><link rel="prefetch" href="/assets/js/45.fd8cfe3e.js"><link rel="prefetch" href="/assets/js/46.63313e5e.js"><link rel="prefetch" href="/assets/js/47.d21b5d98.js"><link rel="prefetch" href="/assets/js/48.60baf7e8.js"><link rel="prefetch" href="/assets/js/49.e0764b2b.js"><link rel="prefetch" href="/assets/js/5.da9ed769.js"><link rel="prefetch" href="/assets/js/50.38767c36.js"><link rel="prefetch" href="/assets/js/51.36d2a38d.js"><link rel="prefetch" href="/assets/js/52.61232b3d.js"><link rel="prefetch" href="/assets/js/53.ff034682.js"><link rel="prefetch" href="/assets/js/54.7a4884b7.js"><link rel="prefetch" href="/assets/js/55.121dbbe2.js"><link rel="prefetch" href="/assets/js/56.3873e1f2.js"><link rel="prefetch" href="/assets/js/57.8905b09f.js"><link rel="prefetch" href="/assets/js/58.f54a864d.js"><link rel="prefetch" href="/assets/js/59.7bf451c3.js"><link rel="prefetch" href="/assets/js/6.bd236da4.js"><link rel="prefetch" href="/assets/js/61.8b4d53f9.js"><link rel="prefetch" href="/assets/js/62.1a97a500.js"><link rel="prefetch" href="/assets/js/63.3d703f71.js"><link rel="prefetch" href="/assets/js/64.d95d73e2.js"><link rel="prefetch" href="/assets/js/65.c3a94239.js"><link rel="prefetch" href="/assets/js/66.f2e88974.js"><link rel="prefetch" href="/assets/js/67.67aec827.js"><link rel="prefetch" href="/assets/js/68.a7c30c3a.js"><link rel="prefetch" href="/assets/js/69.b5b935ce.js"><link rel="prefetch" href="/assets/js/7.4bc44da7.js"><link rel="prefetch" href="/assets/js/70.7d84ce80.js"><link rel="prefetch" href="/assets/js/71.32fa8096.js"><link rel="prefetch" href="/assets/js/72.4a2065b1.js"><link rel="prefetch" href="/assets/js/73.3cb505be.js"><link rel="prefetch" href="/assets/js/8.5b8426a2.js"><link rel="prefetch" href="/assets/js/9.9a7d9e54.js">
    <link rel="stylesheet" href="/assets/css/0.styles.924704fd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="FE-Interview" class="logo"> <span class="site-name can-hide">FE-Interview</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/About/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/base/HTML/HTML5/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/base/CSS/基操/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/base/JavaScript/数据类型/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title">浏览器</span> <span class="arrow down"></span></button> <button type="button" aria-label="浏览器" class="mobile-dropdown-title"><span class="title">浏览器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/浏览器的工作原理.html" class="nav-link">
  浏览器的工作原理
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/渲染优化.html" class="nav-link">
  渲染优化
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/缓存.html" class="nav-link">
  缓存
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/跨域.html" class="nav-link">
  跨域
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机网络" class="dropdown-title"><span class="title">计算机网络</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机网络" class="mobile-dropdown-title"><span class="title">计算机网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/network/应用层/HTTP.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/network/传输层/TCP.html" class="nav-link">
  TCP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构" class="dropdown-title"><span class="title">数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构" class="mobile-dropdown-title"><span class="title">数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/dataStruct/链表.html" class="nav-link">
  链表
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/engineering/babel.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/engineering/webpack.html" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/FE-Interview/designPatterns/SOLID设计原则.html" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/FE-Interview/security/常见的安全问题.html" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="https://github.com/ZzZzzzxc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://blog.zhangxc.cn/home" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/About/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/base/HTML/HTML5/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/base/CSS/基操/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/base/JavaScript/数据类型/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title">浏览器</span> <span class="arrow down"></span></button> <button type="button" aria-label="浏览器" class="mobile-dropdown-title"><span class="title">浏览器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/浏览器的工作原理.html" class="nav-link">
  浏览器的工作原理
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/渲染优化.html" class="nav-link">
  渲染优化
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/缓存.html" class="nav-link">
  缓存
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/browser/跨域.html" class="nav-link">
  跨域
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机网络" class="dropdown-title"><span class="title">计算机网络</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机网络" class="mobile-dropdown-title"><span class="title">计算机网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/network/应用层/HTTP.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/network/传输层/TCP.html" class="nav-link">
  TCP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构" class="dropdown-title"><span class="title">数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构" class="mobile-dropdown-title"><span class="title">数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/dataStruct/链表.html" class="nav-link">
  链表
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FE-Interview/engineering/babel.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/FE-Interview/engineering/webpack.html" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/FE-Interview/designPatterns/SOLID设计原则.html" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/FE-Interview/security/常见的安全问题.html" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="https://github.com/ZzZzzzxc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://blog.zhangxc.cn/home" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/FE-Interview/engineering/babel.html" aria-current="page" class="active sidebar-link">Babel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#依赖版本" class="sidebar-link">依赖版本</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#babel-的调用方式" class="sidebar-link">Babel 的调用方式</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#babel-的配置文件" class="sidebar-link">Babel 的配置文件</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#presets-和-plugins" class="sidebar-link">Presets 和 Plugins</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#babel-preset-env" class="sidebar-link">@babel/preset-env</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#targets" class="sidebar-link">targets</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#usebuiltins" class="sidebar-link">useBuiltIns</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#corejs" class="sidebar-link">corejs</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#babel-plugin-transform-runtime-和-babel-runtime" class="sidebar-link">@babel/plugin-transform-runtime 和 @babel/runtime</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#常用依赖总结" class="sidebar-link">常用依赖总结</a></li><li class="sidebar-sub-header"><a href="/FE-Interview/engineering/babel.html#babel-插件开发" class="sidebar-link">babel 插件开发</a></li></ul></li><li><a href="/FE-Interview/engineering/webpack.html" class="sidebar-link">webpack</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h1> <p>我们常说的 Babel 是一个工具链，主要用于将 ECMAScript 2015+ 版本的代码转换为向后兼容的 JavaScript 语法，以便能够运行在当前和旧版本的浏览器或其他环境中。</p> <h2 id="依赖版本"><a href="#依赖版本" class="header-anchor">#</a> 依赖版本</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;@babel/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.12.10&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@babel/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.12.10&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.12.10&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.12.11&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@babel/runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.12.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;core-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.8.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;regenerator-runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.13.7&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="babel-的调用方式"><a href="#babel-的调用方式" class="header-anchor">#</a> Babel 的调用方式</h2> <ul><li>直接在 js 代码内调用，</li> <li>命令行工具 <code>@babel/cli</code>，</li> <li>构建工具，如 <code>webpack</code>，通过 <code>babel-loader</code> 进行使用。</li></ul> <h2 id="babel-的配置文件"><a href="#babel-的配置文件" class="header-anchor">#</a> Babel 的配置文件</h2> <p>同时 babel 支持如下多种配置方式：</p> <ul><li>package.json</li> <li>.babelrc</li> <li>babel.config.json</li> <li>.babelrc.js</li></ul> <h2 id="presets-和-plugins"><a href="#presets-和-plugins" class="header-anchor">#</a> Presets 和 Plugins</h2> <p>由于 Babel 本身是一个编译器，输入代码再输出编译后的代码（不会对代码进行额外处理，类似于 <code>const babel = code =&gt; code</code>），所以需要在其中加入 Plugins（相当于 <code>const babel = code =&gt; plugins(code)</code>），完成对代码的加工处理，同时为了避免繁杂的 Plugins 配置，我们可以通过 Presets 去使用一系列组合好的 Plugins 的集合。</p> <p><strong>需要注意：<code>Presets</code> 在 <code>Plugins</code> 之后执行，<code>Presets</code> 设置内的执行顺序为从数组的后面往前，与 <code>Plugins</code> 相反</strong>。</p> <p>例如：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@babel/preset-react&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>会先执行 <code>@babel/preset-react</code>，然后再执行 <code>@babel/preset-env</code>。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-decorators-legacy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;transform-class-properties&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>则会先执行<code>transform-decorators-legacy</code>，然后再执行<code>transform-class-properties</code>。</p> <p>常见的 Presets 有：</p> <ul><li>@babel/preset-env：适用于常规项目，允许你在项目内使用最新的 Javascript 语法。</li> <li>@babel/preset-flow：适用于 <a href="https://flow.org/en/docs/getting-started/" target="_blank" rel="noopener noreferrer">Flow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 项目。</li> <li>@babel/preset-react：适用于 React 项目。</li> <li>@babel/preset-typescript：适用于 <a href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html" target="_blank" rel="noopener noreferrer">TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 项目。</li> <li>@vue/babel-preset-app：适用于 Vue-Cli 构建的项目，是 <code>@babel/preset-env</code> 、<code>@babel/plugin-syntax-jsx</code>、<code>@vue/babel-preset-jsx</code> 等模块的集合。</li></ul> <p>常见的 Plugins 有：</p> <ul><li>@babel/plugin-transform-runtime：用于复用 Babel 注入代码内的 <code>helper code</code>，与 <code>@babel/runtime</code> 结合使用。</li></ul> <h2 id="babel-preset-env"><a href="#babel-preset-env" class="header-anchor">#</a> @babel/preset-env</h2> <h3 id="targets"><a href="#targets" class="header-anchor">#</a> targets</h3> <p>该选项用于描述你的项目所需要支持的环境，类型为 <code>string | Array&lt;string&gt; | { [string]: string }</code>，默认值是 <code>{}</code>。</p> <p>具体属性如下：</p> <ul><li>browserslist：需要支持的最低版本浏览器</li> <li>esmodules：如果浏览器支持ES模块，则 browserslist 会被忽略，结合 <code>&lt;script type=&quot;module&quot;&gt;&lt;/script&gt;</code> 可以向用户提供更小体积的脚本。</li> <li>node</li> <li>safari</li> <li>browsers：后续版本该字段会被移除。</li></ul> <p>如果没有设置 <code>targets</code>，babel 会将 ES2015+ 的代码全部转换为 ES5兼容，这样就会丧失 <code>preset-env</code> 可以兼容指定浏览器的优势。</p> <h3 id="usebuiltins"><a href="#usebuiltins" class="header-anchor">#</a> useBuiltIns</h3> <p>该选项用于配置 babel 如何处理 <code>polyfill</code>，可选值包括 <code>&quot;usage&quot;| &quot;entry&quot;| false</code>，默认为 <code>false</code>。</p> <ul><li>false：不对 <code>polyfill</code> 进行处理。</li> <li>entry：根据 <code>targets</code> 中设置的浏览器列表，引入需要提供支持的所有 <code>polyfill</code>。</li> <li>usage：按需引入当前所需的 <code>polyfill</code>。</li></ul> <p>该选项不为 <code>false</code> 的时候，<code>@babel/preset-env</code> 会建立对 <code>core-js</code> 的直接引用，所以需要安装 <code>core-js</code>。</p> <h3 id="corejs"><a href="#corejs" class="header-anchor">#</a> corejs</h3> <p>此选项添加于 <code>v7.4.0</code>，用于配置 <code>core-js</code> 包（该依赖包含 promises, symbols, collections, iterators, typed arrays 等功能的 polyfills）,值可以设置为 <code>2</code> 、<code>3</code> 或者 <code>{ version: 2|3, proposals: boolean }</code>，默认为 <code>2</code>。</p> <p>由于 <code>core-js@2</code> 已经不再添加新的特性（<code>polyfill</code> 默认使用的是该版本），所以最好使用 <code>core-js@3</code>。</p> <p>其他的，还有诸如 <code>bugfixes</code>、<code>spec</code>、<code>modules</code> 等字段，可以去 <a href="https://www.babeljs.cn/docs/babel-preset-env#forcealltransforms" target="_blank" rel="noopener noreferrer">Babel文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 进行查阅。</p> <h2 id="babel-plugin-transform-runtime-和-babel-runtime"><a href="#babel-plugin-transform-runtime-和-babel-runtime" class="header-anchor">#</a> @babel/plugin-transform-runtime 和 @babel/runtime</h2> <p>Babel 会自行实现一些如 <code>_extend</code> 的功能函数，这些功能 Babel 会在每次使用的时候都实现一遍，增大编译后的体积，使用 <code>@babel/plugin-transform-runtime</code> 插件会将这些函数都改为从 <code>@babel/runtime</code> 进行引用，就可以避免这个问题。</p> <blockquote><p>需要注意：与 <code>@babel/plugin-transform-runtime</code> 不同，<code>@babel/runtime</code> 需要在作为生产环境的依赖进行安装。</p></blockquote> <h2 id="常用依赖总结"><a href="#常用依赖总结" class="header-anchor">#</a> 常用依赖总结</h2> <table><thead><tr><th>包名</th> <th>功能</th> <th>说明</th></tr></thead> <tbody><tr><td>@babel/core</td> <td>babel 核心编译包</td> <td>dev 依赖</td></tr> <tr><td>@babel/polyfill</td> <td>兼容库</td> <td>prod 依赖</td></tr> <tr><td>@babel/preset-env</td> <td>常用预设</td> <td>dev 依赖，依赖 core-js</td></tr> <tr><td>@babel/plugin-transform-runtime</td> <td>实现对 helper code 的复用</td> <td>dev 依赖，与 @babel/runtime 配合使用</td></tr> <tr><td>@babel/runtime</td> <td>对 helper code 的封装</td> <td>prod 依赖，与 @babel/plugin-transform-runtime 配合使用</td></tr> <tr><td>core-js</td> <td>兼容库</td> <td>prod 依赖，被 @babel/preset-env 依赖</td></tr> <tr><td>@babel/cli</td> <td>命令行工具</td> <td>dev 依赖</td></tr> <tr><td>babel-loader</td> <td>webpack 中的 loader，用于 js 文件的解析</td> <td>dev 依赖，在 webpack 项目中使用</td></tr></tbody></table> <h2 id="babel-插件开发"><a href="#babel-插件开发" class="header-anchor">#</a> babel 插件开发</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">1/5/2021, 3:20:02 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c6550162.js" defer></script><script src="/assets/js/2.d4fb1092.js" defer></script><script src="/assets/js/60.a7d5995b.js" defer></script>
  </body>
</html>
